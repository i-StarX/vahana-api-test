import { test, expect, } from '@playwright/test';

test('API Response', { tag: ["@regression", "@api_reponse"] }, async ({ request }) => {

    
    await request.fetch(`https://middleware.vahanacloud.com/backend/router/engine/v1/gateway`, {
        method: "POST",
        headers: {
origin: "https://middleware.vahanacloud.com",
Authority: "middleware.vahanacloud.com",
path: "/backend/router/engine/v1/gateway",
requestid: "VAHANAPORTAL495c868f-f743-341a-b200-02376fc3f67f--13022025112501762",
Authorization: "Bearer eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJjZTVjZDE0ZC0xMWE1LTQxY2QtODMxNi1jNjgxMzA0MDA5M2UiLCJzdWIiOiJMdlFCYkx3N2JtempaZHhoaHg3WkpIS1NLRTkvUTNEN2xCWExLa3lJWGF6REJ6dysyWWJnZlJOcy8zNG9TalRvQVltYkg5ZVBSOVovVUlLb3lzdzhLQT09IiwiaWF0IjoxNzM5NDIzNTkwLCJleHAiOjE3Mzk1MDk5OTB9.XPHGnCKjODBCFUrBkIp8krGhzzJYsgcoaurDTd9HtwJpEmUxRv2VmVanoOqKczVB1bc9Jz7nSHZQMcc_YihArg",
clientid: "VAHANA~PORTAL",
cookie: "WORKSPACE_NAME=PROD_RegressionAPPs; WORKSPACE_ID=35301172829474008194501; ISLOGGEDIN=false; SSID=6394203999627022; ILG=7138dd95-e97b-4240-a15d-c4cec4f2f356; USER_ID=61YWV4MKDNDFEQ1IC6JX; USERNAME=aashi.agarwal@decimal.co.in; DEFAULT_ACCOUNT_ID=25620168075932682798270; DEFAULT_ACCOUNT_NAME=Demo QA Account; DEFAULT_ACCOUNT_HIERARCHY=arn:25620168075932682798270_AC; ACCESS_LEVEL=arn:35301172829474008194501_WS; DEFAULT_ACCOUNT_USER_ROLE=DEVELOPER",
deviceid: "495c868f-f743-341a-b200-02376fc3f67f",
hash: "E9D09095801AEE6F09F8E42B1893353D65473599E079741F654F7BF8F8767ADCD84B5AF18D2B115C4E875C78B4D691EE75418D64284798510316E865FCC329C7",
referer: "https://middleware.vahanacloud.com/vConnect_new/",
servicename: "ADD_RESOURCE",
txnkey: "5e9f63a48ad104fc385728dd895d42e7307ac4312fe8087cda76d188d1a6a2e71c5532718234f94164693d6f431c8896117a6f2f7bf59c74942491a4d8a52f63ead362b2e657ed3731535a5328123cab27fbfc7bc72e71a9d912efea39940fd2877f674a37728b9f35dd72a8e65868b00de87d6eb872c46770b253d9c8aa223752de179544fabb381451a40bb0148de97b406e88f99978799fd9ac220b6f83386cbc203cb78bff3fb3aaf1bb5f63c6f04927c797b93492fa756b8c12ba140c163928e33bac4bfdb8380705881718ae92ebd7e79f90cf3b755f128620976d6e4e1a17f889a0a058b6f0f7867f183e83d90ff28be05f69e4f4a93864263e80e7ae",
"security-version": "2",
requesttype: "ER_ER",
priority: "u=1, i",
"sec-ch-ua-mobile": "?0",
"sec-ch-ua-platform": "Windows",
"sec-fetch-mode": "cors",
"sec-fetch-site": "same-origin"
},
        data: {"request":"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"},
    }).then((apiResponse) => {
        expect(apiResponse.ok()).toBeTruthy();
        expect(apiResponse.status().toString()).toBe('200');
        
        apiResponse.body().then(body => {
            let expected = '{"response":"ClVWBV4sj+AV1npQz7Ueskd5jX1vhyrsG5PM8GuRXgdTomK6m8sAGZ75PzuDrfopYVM14iczryHJrmg1CwM9l0VCEqXjJPMCUv9K7ndJYD/M8oPF6z4QmECyn3UCBjLjoK+Gqi+XkwmN/ce1KSnzydvXTABq/xmoMVztez2OFWUXy1uyeNG4WnUKtWlMfM65ruAhO/W1NGfPOrgKGT2gfrUza/H0SD+Hg2vYQ6Xe+hQulVtTbl8j+G484Qxn9Z5GxNh8IkpMeHTs+NqKzzwNnxsq4d+WZA/cTZ95Fz6hE+g="}';
            expect(body.toString().replace(/ +/g, "")).toEqual(expected.replace(/ +/g, ""));
        });
    });

});